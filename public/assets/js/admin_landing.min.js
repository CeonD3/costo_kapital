"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var AppChartSystem={validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={message:"Lo sentimos hubo un error, intentelo más tarde.",data:e,success:!1};if(null==e.scope)throw t.message="No sé logró identificar el scope",t;if(!document.getElementById(e.scope))throw{success:!1,message:"No sé logró identificar el objecto del scope"};if(null==e.data)throw t.message="No sé logro identicar los datos del gráfico",t;return null==e.animate&&(e.animate=!0),e},helper:{getMaxValue:function(e){var t=0;if(e.length>0)for(var a=e,n=0;n<a.length;n++){var r=Number(a[n].value);r>0&&r>t&&(t=r)}return t+=1}},onColumnSM:function(e){var t=this;return new Promise((function(a,n){var r;try{(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0);var o=t.helper.getMaxValue(e.data),l=r.titles.create();l.text="PARÁMETROS GENERALES",l.fontSize=14,l.marginBottom=10,null!=e.fontSize&&(l.fontSize=e.fontSize);var s=r.xAxes.push(new am4charts.CategoryAxis);s.dataFields.category="label",s.renderer.minGridDistance=1,s.numberFormatter=new am4core.NumberFormatter,s.renderer.grid.template.location=0,s.renderer.grid.template.disabled=!0,null!=e.fontSize&&(s.renderer.labels.template.fontSize=e.fontSize);var i=s.renderer.labels.template;i.truncate=!0,i.tooltipText="{category}",s.events.on("sizechanged",(function(e){var t=e.target,a=t.pixelWidth/(t.endIndex-t.startIndex);t.renderer.labels.template.maxWidth=a}));var c=r.yAxes.push(new am4charts.ValueAxis);c.numberFormatter=new am4core.NumberFormatter,c.numberFormatter.numberFormat="#'%'",c.renderer.labels.template.disabled=!0,c.renderer.grid.template.disabled=!0,c.min=0,c.max=o;var d=r.series.push(new am4charts.ColumnSeries);d.name="Punto",d.dataFields.valueY="value",d.dataFields.categoryX="label",d.columns.template.propertyFields.fillOpacity="fillOpacity",d.columns.template.propertyFields.stroke="color",d.columns.template.propertyFields.strokeWidth=4,d.columns.template.propertyFields.strokeDasharray="columnDash",d.tooltip.label.textAlign="middle",d.columns.template.showTooltipOn="always",d.tooltip.pointerOrientation="down",d.columns.template.tooltipY=0,d.columns.template.strokeWidth=2,d.columns.template.fill=am4core.color("#fff"),d.columns.template.width=am4core.percent(50),null!=e.fontSize&&(d.tooltip.label.fontSize=e.fontSize);var m=d.bullets.push(new am4charts.LabelBullet);m.label.text="[bold]{valueY}%",m.label.dy=-15,m.label.hideOversized=!1,m.label.truncate=!1,null!=e.fontSize&&(m.label.fontSize=e.fontSize),null==e.cursor||e.cursor,r.data=e.data,r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onGroupSM:function(e){var t=this;return new Promise((function(a,n){var r=null;try{var o=function(t){var a=t.index,n=t.label,o=t.color,l=r.series.push(new am4charts.ColumnSeries);l.name=n,l.dataFields.valueY=a,l.dataFields.categoryX="label",l.sequencedInterpolation=!0,l.stacked=!0,l.columns.template.width=am4core.percent(50),null!=e.tooltipText&&0==e.tooltipText||(l.columns.template.tooltipText="[bold]{name}[/]\n{valueY}%"),l.tooltip.label.adapter.add("text",(function(e,t){return t.dataItem&&0==t.dataItem.valueY?"":e}));var s=l.bullets.push(new am4charts.LabelBullet);return s.label.text="[bold]{valueY}%",s.locationY=.5,s.label.fill=am4core.color("#000"),null!=e.fontSize&&(s.label.fontSize=e.fontSize),l.columns.template.stroke=o,l.columns.template.strokeWidth=2,l.columns.template.fill=am4core.color("#fff"),l};(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0);var l=r.titles.create();l.text="ESTRUCTURA DE FINANCIAMIENTO",l.fontSize=14,l.marginBottom=20,null!=e.fontSize&&(l.fontSize=e.fontSize),r.data=e.data.items;var s=r.xAxes.push(new am4charts.CategoryAxis);s.dataFields.category="label",s.renderer.grid.template.location=0,s.renderer.grid.template.disabled=!0,null!=e.fontSize&&(s.renderer.labels.template.fontSize=e.fontSize);var i=r.yAxes.push(new am4charts.ValueAxis);i.numberFormatter=new am4core.NumberFormatter,i.numberFormatter.numberFormat="#'%'",i.renderer.grid.template.disabled=!0,i.min=0,i.max=100;for(var c=0;c<e.data.groups.length;c++)o(e.data.groups[c]);r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onGroupPM:function(e){var t=this;return new Promise((function(a,n){var r=null;try{var o=function(t,a){var n=t.index,o=t.label,l=t.color,s=(t.measure,r.series.push(new am4charts.ColumnSeries));s.name=o,s.dataFields.valueY=n,s.dataFields.categoryX="label",s.sequencedInterpolation=!0,s.stacked=!0;var i=50;void 0!==e.template&&void 0!==e.template.width&&(i=e.template.width),s.columns.template.width=am4core.percent(i),s.columns.template.stroke=l,s.columns.template.strokeWidth=2,s.columns.template.fill=am4core.color("#fff"),null!=e.tooltipText&&0==e.tooltipText||(s.columns.template.tooltipText="[bold]{name}[/]\n{valueY}%");var c=s.bullets.push(new am4charts.LabelBullet);if(c.label.text="[bold]{name} = {valueY}%[/]",c.locationY=.5,c.label.hideOversized=!0,c.label.fill=am4core.color("#000"),null!=e.fontSize&&(c.label.fontSize=e.fontSize),a){var d=s.bullets.push(new am4charts.LabelBullet);d.label.text="[bold]{title}[/]",d.dy=-10}return s};(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0),r.data=e.data.items;var l=t.helper.getMaxValue(e.data.items),s=r.xAxes.push(new am4charts.CategoryAxis);s.dataFields.category="label",s.renderer.grid.template.location=0,s.renderer.grid.template.disabled=!0,null!=e.fontSize&&(s.renderer.labels.template.fontSize=e.fontSize);var i=r.yAxes.push(new am4charts.ValueAxis);i.numberFormatter=new am4core.NumberFormatter,i.numberFormatter.numberFormat="#'%'",i.renderer.grid.template.disabled=!0,i.renderer.labels.template.disabled=!0,i.min=0,i.max=Number(l)+1.5,i.strictMinMax=!0;for(var c=0;c<e.data.groups.length;c++){var d=!1;d=void 0!==e.data.groups[c].prima?!(Number(e.data.groups[c].prima)>=0):c==e.data.groups.length-1,o(e.data.groups[c],d)}r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onPointAM:function(e){var t=this;return new Promise((function(a,n){var r=null;try{var o=function(e){var t=r.series.push(new am4charts.LineSeries);t.dataFields.valueY="y",t.dataFields.valueX="x",t.strokeOpacity=5,t.data=[{y:e.y,x:e.x}];var a=t.bullets.push(new am4charts.CircleBullet);a.tooltipText="[bold]{y} %[/]",a.circle.stroke=am4core.color("#fff"),a.circle.fill=am4core.color("#02abde");var n=t.bullets.push(new am4charts.LabelBullet);n.label.text="{y}%",n.label.dy=5,n.label.dx=-30,0==e.x&&(n.label.dx=30)};(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated);for(var l=0,s=0;s<e.data.length;s++){var i=Number(e.data[s].x);l=i>=l?i:l}am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0),r.data=[];var c=r.xAxes.push(new am4charts.ValueAxis);c.renderer.grid.template.location=0,c.min=0,c.max=l;var d=r.yAxes.push(new am4charts.ValueAxis);d.numberFormatter=new am4core.NumberFormatter,d.numberFormatter.numberFormat="#.#'%'";for(var m=0;m<e.data.length;m++)o(e.data[m]);r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},oncurve:function(e){var t=this;return new Promise((function(a,n){var r=null;try{(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0);var o=r.xAxes.push(new am4charts.CategoryAxis);o.dataFields.category="label",o.numberFormatter=new am4core.NumberFormatter,o.numberFormatter.numberFormat="#.##",o.renderer.grid.template.disabled=!0,o.title.text="Instrumento de deuda del Treasury",o.renderer.grid.template.location=0,o.renderer.minGridDistance=1,null!=e.fontSize&&(o.renderer.labels.template.fontSize=e.fontSize,o.title.fontSize=e.fontSize);var l=r.yAxes.push(new am4charts.ValueAxis);l.numberFormatter=new am4core.NumberFormatter,l.numberFormatter.numberFormat="#'%'",l.renderer.grid.template.disabled=!0,l.title.text="Rendimiento del instrumento",null!=e.fontSize&&(l.title.fontSize=e.fontSize);var s=r.series.push(new am4charts.LineSeries);s.name="Rendimiento",s.dataFields.valueY="value",s.dataFields.categoryX="label",s.stroke=am4core.color("#02abde"),s.strokeWidth=2,s.propertyFields.strokeDasharray="lineDash",s.tooltip.label.textAlign="middle";var i=s.bullets.push(new am4charts.Bullet);i.fill=am4core.color("#02abde"),i.tooltipText="{name} :\n[/]{valueY}%";var c=i.createChild(am4core.Circle);c.radius=4,c.fill=am4core.color("#fff"),c.strokeWidth=5;var d=r.series.push(new am4charts.ColumnSeries);d.name="Instrumento",d.dataFields.valueY="value",d.dataFields.categoryX="index",d.dataFields.stroke=am4core.color("#02abde"),d.columns.template.propertyFields.fillOpacity=5,d.columns.template.propertyFields.strokeDasharray="columnDash",d.tooltip.label.textAlign="middle",d.columns.template.width=am4core.percent(25),null!=e.cursor&&0==e.cursor||(r.cursor=new am4charts.XYCursor),r.data=e.data,r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onColumnHztRC:function(e){var t=this;return new Promise((function(a,n){var r=null;try{var o=function(t){var a=t.index,n=t.label,o=t.color,l=r.series.push(new am4charts.ColumnSeries);l.dataFields.valueY=a,l.dataFields.categoryX="label",l.name=n,l.columns.template.tooltipText="{name}: [bold]{valueY}%[/]",l.columns.template.height=am4core.percent(100),l.columns.template.width=am4core.percent(100),l.columns.template.stroke=o,l.columns.template.strokeWidth=2,l.columns.template.fill=am4core.color("#fff"),l.sequencedInterpolation=!0;var s=l.bullets.push(new am4charts.LabelBullet);s.label.text="[bold]{name}",s.label.dy=-10,s.label.fill=am4core.color("#000"),s.label.hideOversized=!1,s.label.truncate=!1,null!=e.fontSize&&(s.label.fontSize=e.fontSize);var i=l.bullets.push(new am4charts.LabelBullet);i.label.text="[bold]{valueY}%",i.label.dy=25,i.label.hideOversized=!1,i.label.truncate=!1,null!=e.fontSize&&(i.label.fontSize=e.fontSize)};(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0),r.data=e.data.items;for(var l=0,s=0;s<e.data.items.length;s++){var i=e.data.items[s];void 0!==i.value1&&(l=Number(i.value1)>l?i.value1:l),void 0!==i.value2&&(l=Number(i.value2)>l?i.value2:l),void 0!==i.value3&&(l=Number(i.value3)>l?i.value3:l),void 0!==i.value4&&(l=Number(i.value4)>l?i.value4:l)}var c=r.xAxes.push(new am4charts.CategoryAxis);c.dataFields.category="label",c.renderer.cellStartLocation=.1,c.renderer.cellEndLocation=.9,c.renderer.grid.template.location=0,c.numberFormatter.numberFormat="#",c.renderer.grid.template.location=0,c.renderer.grid.template.disabled=!0,c.min=0,c.renderer.inside=!0,c.renderer.labels.template.valign="top";var d=r.yAxes.push(new am4charts.ValueAxis);d.numberFormatter=new am4core.NumberFormatter,d.numberFormatter.numberFormat="#'%'",d.renderer.grid.template.disabled=!0,d.min=0,d.max=Number(l)+2;for(var m=0;m<e.data.groups.length;m++)o(e.data.groups[m]);r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onColumnHztRC2:function(e){var t=this;return new Promise((function(a,n){var r=null;try{var o=function(t){var a=t.index,n=t.label,o=t.color,l=r.series.push(new am4charts.ColumnSeries);l.dataFields.valueX=a,l.dataFields.categoryY="label",l.name=n,l.columns.template.tooltipText="{name}: [bold]{valueX}%[/]",l.columns.template.height=am4core.percent(80),l.columns.template.stroke=o,l.columns.template.strokeWidth=2,l.columns.template.fill=am4core.color("#fff"),l.sequencedInterpolation=!0;var s=l.bullets.push(new am4charts.LabelBullet);s.label.text="[bold]{valueX}%",s.label.horizontalCenter="left",s.label.dx=10,s.label.hideOversized=!1,s.label.truncate=!1,null!=e.fontSize&&(s.label.fontSize=e.fontSize);var i=l.bullets.push(new am4charts.LabelBullet);i.label.text="[bold]{name}",i.label.horizontalCenter="right",i.label.dx=-10,i.label.fill=am4core.color("#000"),i.label.hideOversized=!1,i.label.truncate=!1,null!=e.fontSize&&(s.label.fontSize=e.fontSize)};(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0),r.data=e.data.items;var l=r.yAxes.push(new am4charts.CategoryAxis);l.dataFields.category="label",l.numberFormatter.numberFormat="#",l.renderer.grid.template.location=0,l.renderer.cellStartLocation=.1,l.renderer.cellEndLocation=.9,l.renderer.grid.template.disabled=!0,null!=e.rotation&&(l.renderer.labels.template.rotation=e.rotation,l.renderer.labels.template.verticalCenter="bottom",l.renderer.labels.template.horizontalCenter="middle"),null!=e.fontSize&&(l.renderer.labels.template.fontSize=e.fontSize);var s=r.xAxes.push(new am4charts.ValueAxis);s.numberFormatter=new am4core.NumberFormatter,s.numberFormatter.numberFormat="#'%'",s.renderer.grid.template.disabled=!0,s.min=0;for(var i=0;i<e.data.groups.length;i++)o(e.data.groups[i]);r.legend=new am4charts.Legend,null!=e.fontSize&&(r.legend.fontSize=e.fontSize),r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onPointAMV2:function(e){var t=this;return new Promise((function(a,n){var r=null;try{var o=function(t){var a=["#00e676","#2196f3","#e91e63","#673ab7"],n=r.series.push(new am4charts.LineSeries);n.dataFields.valueY="y",n.dataFields.valueX="x",n.strokeOpacity=5,n.data=[{y:t.y,x:t.x}];var o=n.bullets.push(new am4charts.CircleBullet);if(null!=e.tooltipText&&0==e.tooltipText||(o.tooltipText="[bold]{y} %[/]"),o.circle.stroke=am4core.color("#fff"),o.circle.fill=am4core.color("#02abde"),"Koa"!=t.label){var l=n.bullets.push(new am4charts.LabelBullet);l.label.text="{y}%",l.label.dy=-15,l.label.fontWeight=600,null!=e.fontSize&&(l.label.fontSize=e.fontSize),l.label.dx=25}if(2==t.line){var s=n.bullets.push(new am4charts.LabelBullet);s.label.text="Koa  "+t.y+"%",s.label.dy=17,s.label.dx=17,s.label.fontWeight=600,s.label.fontSize=15,s.label.fill=am4core.color("#02abde"),null!=e.fontSize&&(s.label.fontSize=e.fontSize),s.label.dx=45}var i=r.series.push(new am4charts.LineSeries);i.dataFields.valueY="vy",i.dataFields.valueX="vx",i.strokeWidth=4,i.strokeOpacity=.7,i.minBulletDistance=10,i.stroke=a[t.idx],i.data=[{vx:t.x1,vy:t.y1},{vx:t.x2,vy:t.y2}],i.propertyFields.strokeDasharray="lineDash",i.tooltip.label.textAlign="end";var c=i.bullets.push(new am4charts.LabelBullet);2!=t.line&&(c.label.text=t.label),c.label.paddingRight=45,c.strokeWidth=2,c.label.dy=-10,c.label.dx=-5,c.label.textAlign="start",c.label.fill=a[t.idx],c.label.fontWeight=600,c.label.fontSize=15,null!=e.fontSize&&(c.label.fontSize=e.fontSize),2==t.line&&(i.strokeDasharray="3,4")};(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated);for(var l=0,s=0,i=0;i<e.data.length;i++){var c=Number(e.data[i].x);l=c>=l?c:l;var d=Number(e.data[i].y);s=d>=s?d:s}s+=1;var m=l+.05;(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0),r.data=[];var u=r.xAxes.push(new am4charts.ValueAxis);u.renderer.minGridDistance=100,u.renderer.grid.template.location=0,u.renderer.grid.template.disabled=!0,u.min=0,u.max=m;var h=r.yAxes.push(new am4charts.ValueAxis);h.renderer.grid.template.location=0,h.renderer.grid.template.disabled=!0,h.min=0,h.renderer.minGridDistance=50,h.numberFormatter=new am4core.NumberFormatter,h.numberFormatter.numberFormat="#.#'%'",h.max=s;var p=u.axisRanges.create();p.value=l,p.grid.stroke=am4core.color("#396478"),p.grid.strokeWidth=2,p.grid.strokeOpacity=1,p.grid.strokeDasharray="3,3",p.label.inside=!0,p.label.text="D/C = "+l,p.label.fill=p.grid.stroke,p.label.verticalCenter="bottom",p.label.valign="top",p.label.fontWeight=600,p.label.dy=-25,p.label.dx=-35;for(var b=0;b<e.data.length;b++)e.data[b].idx=b,o(e.data[b]);r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onColumnAll:function(e){var t=this;return new Promise((function(a,n){var r=null;try{(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0),r.data=e.data.industries;var o=r.xAxes.push(new am4charts.CategoryAxis);o.dataFields.category="label",o.renderer.grid.template.location=0,o.renderer.minGridDistance=15,o.renderer.grid.template.location=.5,o.renderer.grid.template.strokeDasharray="1,3",o.renderer.labels.template.rotation=-90,o.renderer.labels.template.horizontalCenter="right",o.renderer.labels.template.location=.5,o.renderer.cellStartLocation=.2,o.renderer.cellEndLocation=.8,o.renderer.labels.template.fontSize=12,o.renderer.grid.template.disabled=!0;var l=o.renderer.labels.template;l.tooltipText="{category}",l.textAlign="middle",l.marginTop=5,l.truncate=!0,l.maxWidth=100;var s=r.yAxes.push(new am4charts.ValueAxis);s.numberFormatter=new am4core.NumberFormatter,s.numberFormatter.numberFormat="#'%'",s.renderer.grid.template.disabled=!0;var i=r.series.push(new am4charts.ColumnSeries);i.dataFields.valueY="value",i.dataFields.categoryX="label",i.name="Visits",null!=e.tooltipText&&0==e.tooltipText||(i.columns.template.tooltipText="{categoryX}: [bold]{valueY} %[/]"),i.sequencedInterpolation=!0,i.columns.template.fillOpacity=.9;var c=i.columns.template;c.strokeWidth=1.5,c.strokeOpacity=0,null!=e.cursor&&0==e.cursor||(r.cursor=new am4charts.XYCursor);var d=r.titles.create();d.text="COSTO DE CÁPITAL ECONÓMICO",d.fontSize=16,d.fontWeight=600,d.marginBottom=5,d.fill=am4core.color("#02abde"),null!=e.fontSize&&(d.fontSize=e.fontSize),i.columns.template.adapter.add("fill",(function(t,a){return void 0!==e.selected&&a.dataItem.categoryX==e.selected?am4core.color("#fdd835"):am4core.color("#02abde")})),r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onLineAll:function(e){var t=this;return new Promise((function(a,n){var r;try{(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0),r.data=e.data;var o=r.xAxes.push(new am4charts.CategoryAxis);o.dataFields.category="label",o.renderer.minGridDistance=10,o.renderer.grid.template.disabled=!0,o.renderer.labels.template.rotation=-90;var l=r.yAxes.push(new am4charts.ValueAxis);l.renderer.grid.template.disabled=!0,l.min=0;var s=r.series.push(new am4charts.LineSeries);s.name="label",s.dataFields.valueY="value",s.dataFields.categoryX="label",s.stroke=am4core.color("#02abde"),s.strokeWidth=3,s.propertyFields.strokeDasharray="lineDash",s.tooltip.label.textAlign="middle";var i=r.titles.create();i.text="RIESGO PAÍS: "+(null!=e.title?e.title.toUpperCase():""),i.fontSize=16,i.fontWeight=500,void 0!==e.scroll?e.scroll&&(r.scrollbarX=new am4core.Scrollbar,r.cursor=new am4charts.XYCursor):(r.scrollbarX=new am4core.Scrollbar,r.cursor=new am4charts.XYCursor),r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))},onColumnSingle:function(e){var t=this;return new Promise((function(a,n){var r;try{(e=t.validate(e)).animate&&am4core.useTheme(am4themes_animated),(r=am4core.create(e.scope,am4charts.XYChart)).logo&&(r.logo.disabled=!0);var o=t.helper.getMaxValue(e.data),l=r.titles.create();l.text="COSTO DE DEUDA",l.fontSize=14,l.marginBottom=10,null!=e.fontSize&&(l.fontSize=e.fontSize);var s=r.xAxes.push(new am4charts.CategoryAxis);s.dataFields.category="label",s.renderer.minGridDistance=1,s.numberFormatter=new am4core.NumberFormatter,s.renderer.grid.template.location=0,s.renderer.grid.template.disabled=!0,null!=e.fontSize&&(s.renderer.labels.template.fontSize=e.fontSize);var i=s.renderer.labels.template;i.truncate=!0,i.tooltipText="{category}",s.events.on("sizechanged",(function(e){var t=e.target,a=t.pixelWidth/(t.endIndex-t.startIndex);t.renderer.labels.template.maxWidth=a}));var c=r.yAxes.push(new am4charts.ValueAxis);c.numberFormatter=new am4core.NumberFormatter,c.numberFormatter.numberFormat="#'%'",c.renderer.grid.template.disabled=!0,c.renderer.grid.template.location=0,c.min=0,c.max=o;var d=r.series.push(new am4charts.ColumnSeries);d.name="Punto",d.dataFields.valueY="value",d.dataFields.categoryX="label",d.columns.template.propertyFields.fillOpacity="fillOpacity",d.columns.template.propertyFields.stroke="color",d.columns.template.propertyFields.strokeWidth=4,d.columns.template.propertyFields.strokeDasharray="columnDash",d.tooltip.label.textAlign="middle",d.columns.template.showTooltipOn="always",d.tooltip.pointerOrientation="down",d.columns.template.tooltipY=0,d.columns.template.strokeWidth=2,d.columns.template.fill=am4core.color("#fff"),null!=e.fontSize&&(d.tooltip.label.fontSize=e.fontSize);var m=d.bullets.push(new am4charts.LabelBullet);m.label.text="[bold]{valueY}%",m.label.dy=-15,m.label.hideOversized=!1,m.label.truncate=!1,null!=e.fontSize&&(m.label.fontSize=e.fontSize),null==e.cursor||e.cursor,r.data=e.data,r.events.on("ready",(function(){a(r)}))}catch(e){n(e),console.error(e)}}))}};window.AppChartSystem=AppChartSystem;var AppChartHtml={oneGraph:function(e,t){return new Promise((function(a,n){for(var r=t.items,o=t.groups.reverse(),l=!1,s=0,i=0;i<r.length;i++)for(var c=r[i],d=0;d<o.length;d++){var m=15*c[o[d].index];25>=m&&(l||(l=!0,s=25-m))}for(var u='<ul class="chartCustom">',h=0;h<r.length;h++){var p=r[h];u+='<li>\n                            <div class="chartTextTop">\n                                <span>'.concat(p.title,"</span>\n                            </div>"),p.value==p.measure||(u+='<div class="chartLine" style="height:'.concat(15*p.measure,'px;">\n                                <span>').concat(p.title,"</span>\n                            </div>"));for(var b=0;b<o.length;b++){var f=o[b];if(p[f.index]>0){var v=15*p[f.index];s>0&&(v=Number(v)+Number(s)),u+='<div class="chartItem" style="height:'.concat(v,"px; border: 2px solid ").concat(f.color,';" title="').concat(p.label,'">\n                                    <span>').concat(f.label," = ").concat(p[f.index],"%</span>\n                                </div>")}}u+="</li>"}u+="</ul>",$(e).html(u),a()}))}};function copyClipboardReport(e){var t=$("#"+e);t.select(),document.execCommand("copy"),alertify.message("Acaba de copiar el valor "+t.val())}$(document).ready((function(){$(".custom-file-input").off("change"),$(".custom-file-input").on("change",(function(e){var t="Seleccionar";e.target.files&&e.target.files.length>0&&(t=e.target.files[0].name),$(this).next().text(t)}))}));var AppExportPDF=function(){var e=this,t={AppExportGeneral:"AppExportGeneral",AppStructureExport:"AppStructureExport",AppPanelExport:"AppPanelExport",AppCoverPage:"AppCoverPage",AppContentPage:"AppContentPage",btnExportPdf:".btnExportPdf",btnExportAllPdf:"#btnExportAllPdf"},a={},n=0,r=[],o=[],l=14,s=function(e){return new Promise((function(t,a){fetch("/system/getAllReport",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){e.success?t(e.data):a(e.message)})).catch((function(e){a(e)}))}))},i=function(e){return new Promise((function(l,s){try{a=e;var i=t,c=$("#"+i.AppExportGeneral);c.append($("<div/>",{id:i.AppStructureExport,class:"col12"})),c.append($("<div/>",{id:i.AppPanelExport})),c.find("#"+i.AppPanelExport).append($("<div/>",{id:i.AppCoverPage,class:"col12"})),c.find("#"+i.AppPanelExport).append($("<div/>",{id:i.AppContentPage,class:"col12"})),c.find("#"+i.AppStructureExport).html(e.structure),c.find("#"+i.AppCoverPage).html(c.find("#"+i.AppStructureExport).find("#cover-page").html()),c.find("#"+i.AppStructureExport).find("#cover-page").html("");var d=e.design.body;r=[],o=[],d=function e(t){var a="{=",r="=}",o=t.indexOf(a),l="";if(-1!==o){var s=t.indexOf(r);if(-1!==s){for(var i=Number(o)+Number(a.length),c=Number(s),d=i;d<c;d++)l+=t.charAt(d);for(var m=[],u="",p=!1,b=a+l+r,f=c+Number(r.length);f<t.length;f++){var v=t.charAt(f);if("["!=v){if(!p||"]"==v){if("]"==v&&(b+=v),m.push(u),void 0!==t.charAt(f+1)&&"["==t.charAt(f+1)){u="";continue}break}b+=v,u+=v}else b+=v,p=!0}n++;var g=h.content.html({content:l,attributes:m});return e(t=t.replace(b,g))}}return t}(d=(d=d.replaceAll("$BLOQUE_INICIO$",'<div class="row">')).replaceAll("$BLOQUE_FIN$","</div>")),d=function e(t,a){for(var l=function(l){var s=t[l].code,i=a.indexOf(s);if(-1!==i){for(var c=Number(i)+Number(s.length),d=[],m="",u=!1,p=s,b=c;b<a.length;b++){var f=a.charAt(b);if("["!=f){if(!u||"]"==f){if("]"==f&&(p+=f),d.push(m),void 0!==a.charAt(b+1)&&"["==a.charAt(b+1)){m="";continue}break}p+=f,m+=f}else p+=f,u=!0}n++;var v="";if(1==t[l].type)v=h.table.find((function(e){return e.code==s})),a=a.replace(p,v?v.html({code:s,attributes:d}):"");else if(2==t[l].type){var g=h.chart.find((function(e){return e.code==s}));g&&void 0!==(v=g.html({code:s,attributes:d})).item&&r.push(v.item),a=a.replace(p,g?v.html:"")}else if(3==t[l].type)v=h.text.find((function(e){return e.code==s})),a=a.replace(p,v.html());else if(4==t[l].type){var y=h.html.find((function(e){return e.code==s}));y=y.html({code:s,attributes:d}),a=a.replace(p,y.html),o.push(y.item)}else a=a.replace(p,"");return{v:e(t,a)}}},s=0;s<t.length;s++){var i=l(s);if("object"===_typeof(i))return i.v}return a}(e.contents,d),e.chartItems=r,e.htmlItems=o,c.find("#"+i.AppContentPage).html('<div style="width:700px !important;">'+d+"</div>"),$("#panel-report").removeClass("d-none"),e.filename=e.design.name,e.report.name&&(e.filename=e.filename+" - "+e.report.name),e.report.entity&&(e.filename=e.filename+" - "+e.report.entity),e.filename=e.filename.toUpperCase(),l(e)}catch(e){s(e)}}))},c=function(e){return new Promise((function(t,a){for(var n=0;n<e.htmlItems.length;n++){var r=e.htmlItems[n];AppChartHtml.oneGraph(r.htmlId,r.data)}var o=[];if(e.chartItems.length>0)for(var l=function(n){var r=e.chartItems[n];AppChartSystem[r.chart](r.param).then((function(a){o.push({chart:a,graph:r.chartId,img:r.imgId}),n==e.chartItems.length-1&&(e.charts=o,t(e))})).catch((function(e){a(e)}))},s=0;s<e.chartItems.length;s++)l(s);else e.charts=o,t(e)}))},d=function(e){return new Promise((function(t,a){for(var n=[],r=0;r<e.charts.length;r++){var o=e.charts[r];n.push(o.chart.exporting.getImage("png"))}Promise.all(n).then((function(a){for(var n=0;n<e.charts.length;n++){var r=e.charts[n];$("#"+r.graph).remove(),$("#"+r.img).attr("src",a[n]).removeClass("d-none")}t(e)})).catch((function(e){a(e)}))}))},m=function(e){return kendo.pdf.defineFont({"DejaVu Sans":"https://kendo.cdn.telerik.com/2014.3.1314/styles/fonts/DejaVu/DejaVuSans.ttf","DejaVu Sans|Bold":"https://kendo.cdn.telerik.com/2014.3.1314/styles/fonts/DejaVu/DejaVuSans-Bold.ttf","DejaVu Sans|Bold|Italic":"https://kendo.cdn.telerik.com/2014.3.1314/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf","DejaVu Sans|Italic":"https://kendo.cdn.telerik.com/2014.3.1314/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf"}),kendo.drawing.drawDOM("#"+t.AppPanelExport,{paperSize:"A4",scale:.7,template:$("#page-template").html()}).then((function(t){return kendo.drawing.pdf.saveAs(t,e.filename+".pdf"),e}))},u=function(e){return new Promise((function(t,a){setTimeout((function(){t(e)}),5e3)}))},h={renderChart:function(e){var t={};void 0!==e.height&&(t.height=e.height);var a=e.chartId,n=e.imgId,r=h.css({attributes:e.attributes,type:2,extra:t}),o=r.mystyles,l=r.myclass;return'<div id="'.concat(a,'" class="ichart ').concat(l,'" style="').concat(o,'"></div>\n                     <img id="').concat(n,'" src="" class="ichart d-none ').concat(l,'" style="').concat(o,'" />')},renderHtml:function(e){var t={};void 0!==e.height&&(t.height=e.height);var a=e.htmlId,n=h.css({attributes:e.attributes,type:2,extra:t}),r=n.mystyles,o=n.myclass;return'<div id="'.concat(a,'" class="ichart ').concat(o,'" style="').concat(r,'"></div>')},css:function(e){for(var t=e.attributes,a=e.type,n=e.extra,r=[],o=[],l=0;l<t.length;l++){var s=t[l].trim();if(s)if(-1!==s.indexOf("."))for(var i=s.split("."),c=0;c<i.length;c++)i[c]&&o.push(i[c]);else if(-1!==s.indexOf("*"))for(var d=s.split("*"),m=0;m<d.length;m++)d[m]&&r.push(d[m])}var u="",h="";2==a&&(n&&void 0!==n.height?u+=n.height:u+="height:350px;");for(var p=0;p<r.length;p++)u+=r[p];for(var b=0;b<o.length;b++)h+=" "+o[b];return{mystyles:u,myclass:h}},chart:[{code:"$$FE2DP$$",html:function(e){var t=a.system.calculate,r="cost-economic-chart-".concat(n),o="cost-economic-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onColumnAll",param:{scope:r,data:t.graph,animate:!1,fontSize:l,cursor:!1,tooltipText:!1}}}}},{code:"$$W6OMQ$$",html:function(e){var t=a.system.developed,r="developed-general-chart-".concat(n),o="developed-genera-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onColumnSM",param:{scope:r,data:t.structure.graph.general,animate:!1,fontSize:l,cursor:!1}}}}},{code:"$$W3VUC$$",html:function(e){var t=a.system.curve,r="curve-chart-".concat(n),o="curve-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"oncurve",param:{scope:r,data:t.graph.performance,animate:!1,fontSize:10,cursor:!1}}}}},{code:"$$AZS5F$$",html:function(e){var t=a.system.curve_project,r="curve-project-chart-".concat(n),o="curve-project-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"oncurve",param:{scope:r,data:t.graph.performance,animate:!1,fontSize:10,cursor:!1}}}}},{code:"$$AE58D$$",html:function(e){var t=a.system.developed,r="developed-structure-chart-".concat(n),o="developed-structure-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onGroupSM",param:{scope:r,data:t.structure.graph.structure,animate:!1,fontSize:l,cursor:!1}}}}},{code:"$$W4RLB$$",html:function(e){var t=a.system.developed,r="developed-parameter-chart-".concat(n),o="developed-parameter-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onGroupPM",param:{scope:r,data:t.parameter.graph.general,animate:!1,fontSize:l,cursor:!1}}}}},{code:"$$3NSTH$$",html:function(e){var t=a.system.developed,r="developed-average-chart-".concat(n),o="developed-average-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onPointAMV2",param:{scope:r,data:t.average.graph.general,animate:!1,fontSize:l,cursor:!1}}}}},{code:"$$DFR25$$",html:function(e){var t=a.system.emerging,r="emerging-riesgo-pais-chart-".concat(n),o="emerging-riesgo-pais-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onLineAll",param:{scope:r,data:t.structure.graph.riesgo.data,title:t.structure.graph.riesgo.title,animate:!1,fontSize:l,cursor:!1}}}}},{code:"$$Y2T4Y$$",html:function(e){var t=a.system.emerging,r="emerging-general-chart-".concat(n),o="emerging-general-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onGroupSM",param:{scope:r,data:t.structure.graph.general,animate:!1,fontSize:l,cursor:!1}}}}},{code:"$$AJ4RG$$",html:function(e){var t=a.system.emerging,r="emerging-parameter-chart-".concat(n),o="emerging-parameter-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onGroupPM",param:{scope:r,data:t.parameter.graph.general,legend:{position:"top"},animate:!1,fontSize:14,cursor:!1,template:{width:75}}}}}},{code:"$$0W19R$$",html:function(e){var t=a.system.emerging,r="emerging-average-chart-".concat(n),o="emerging-average-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onPointAMV2",param:{scope:r,data:t.average.graph.general,animate:!1,fontSize:l,cursor:!1,tooltipText:!1}}}}},{code:"$$E4SZX$$",html:function(e){var t=a.system.company,r="company-structure-chart-".concat(n),o="company-structure-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onGroupSM",param:{scope:r,data:t.structure.graph.general,animate:!1,fontSize:l,cursor:!1,tooltipText:!1}}}}},{code:"$$SDHJ8$$",html:function(e){var t=a.system.company,r="company-dolares-chart-".concat(n),o="company-dolares-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onPointAMV2",param:{scope:r,data:t.dolares.graph.general,animate:!1,fontSize:l,cursor:!1,tooltipText:!1}}}}},{code:"$$BDTSR$$",html:function(e){var t=a.system.company,r="company-national-chart-".concat(n),o="company-national-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onPointAMV2",param:{scope:r,data:t.national.graph.general,animate:!1,fontSize:l,cursor:!1,tooltipText:!1}}}}},{code:"$$Z7RDW$$",html:function(e){var t=a.system.report,r="report-company-chart-".concat(n),o="report-company-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onColumnHztRC",param:{scope:r,data:t.graph.general,animate:!1,fontSize:12,cursor:!1,tooltipText:!1}}}}},{code:"$$NFHEW$$",html:function(e){var t=a.system.sectorial,r="report-sectorial-chart-".concat(n),o="report-sectorial-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onColumnHztRC",param:{scope:r,data:t.graph.general,animate:!1,fontSize:l,cursor:!1,tooltipText:!1}}}}},{code:"$$ASWQF$$",html:function(e){var t=a.system.comparation,r="report-comparation-chart-".concat(n),o="report-comparation-img-".concat(n);return e.chartId=r,e.imgId=o,{html:h.renderChart(e),item:{chartId:r,imgId:o,chart:"onColumnHztRC",param:{scope:r,data:t.graph.general,animate:!1,fontSize:8,cursor:!1,tooltipText:!1}}}}},{code:"$$KF45D$$",html:function(e){for(var t=a.system.company.structure.graph.deuda,n=h.css({attributes:e.attributes,type:2}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                    <div class="d-block text-center">\n                                        <label>COSTO DE DEUDA</label>\n                                    </div>\n                                    <ul class="chartCustom" id="chartCustomId">'),s=0;s<t.length;s++){var i=t[s];l+='   <li>\n                                            <div class="chartTextTop"><span>'.concat(i.value,"%</span></div>"),i.value==i.measure||i.prima>0&&(l+='<div class="chartLine" style="height:'.concat(20*i.prima,'px;">'),i.text&&(l+="<span>".concat(i.text,"%</span>")),l+="</div>"),l+='<div class="chartItem" style="height:'.concat(20*i.value,"px; border: 2px solid ").concat(i.color,';" title="').concat(i.label,'"></div>\n                                        </li>')}return l+="</ul>\n                                </div>",{html:l}}}],text:[{code:"$$NPQ3H$$",html:function(e){var t=a.system.emerging.structure.country;return t||""}}],html:[{code:"$$YFGHJ$$",html:function(e){var t=a.system.company;return e.htmlId="company-parameter-html-".concat(n),{html:h.renderHtml(e),item:{htmlId:"#"+e.htmlId,data:t.parameter.graph.general}}}}],content:{html:function(e){var t=h.css({attributes:e.attributes,type:1}),a=t.mystyles,n=t.myclass;return'<div class="'.concat(n,'" style="').concat(a,'">').concat(e.content,"</div>")}},table:[{code:"$$MK2OI$$",html:function(e){for(var t=a.system.report.percentages,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-group">\n                                <tbody>\n                                    <tr>\n                                        <td class="border-0"></td>\n                                        <td class="bgtwo">Dólares</td>\n                                        <td class="bgtwo">Moneda Nacional</td>\n                                    </tr>'),s=0;s<t.length;s++){var i=t[s];l+='       <tr>\n\n                                            <td class="bgtwo">'.concat(i.label,'</td>\n                                            <td class="font-weight-bold">').concat(i.dolar,'</td>\n                                            <td class="font-weight-bold">').concat(i.national,"</td>\n                                        </tr>")}return l+="   </tbody>\n                                </table>\n                                </div>",l}},{code:"$$KMZGY$$",html:function(e){for(var t=a.system.developed.structure.calculations,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-one">\n                                    <tbody>'),s=0;s<t.length;s++){var i=t[s];l+="       <tr>\n                                            <td>".concat(i.label,"</td>\n                                            <td>").concat(i.value,"</td>\n                                        </tr>")}return l+="   </tbody>\n                                </table>\n                                </div>",l}},{code:"$$T4P7H$$",html:function(e){var t=a.system.flow,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass;return'<div class="'.concat(o,'" style="').concat(r,'">\n                            <table class="table table-one">\n                                <tbody>\n                                    <tr>\n                                        <td>Horizonte de evaluación (en años)</td>\n                                        <td>').concat(t.horizon,"</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Periodicidad de los flujos</td>\n                                        <td>").concat(t.periodicity,"</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Periodos de la inversión</td>\n                                        <td>").concat(t.period,"</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            </div>")}},{code:"$$GT3DW$$",html:function(e){for(var t=a.system.flow.flows,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-item">\n                                    <tbody>\n                                        <tr>\n                                            <td class="bgone text-center">Periodo</td>\n                                            <td class="bgone text-center">Flujo de caja</td>\n                                            <td class="bgone text-center">Flujo de inversiones</td>\n                                        </tr>'),s=0;s<t.length;s++){var i=t[s];l+='   <tr>\n                                            <td class="bgone text-center">'.concat(s,'</td>\n                                            <td class="text-center">').concat(i.box,'</td>\n                                            <td class="text-center">').concat(i.investment,"</td>\t\t\t\t\t\t\n                                        </tr>")}return l+="   </tbody>\n                                </table>\n                                </div>",l}},{code:"$$VF5TQ$$",html:function(e){var t=a.system.curve_project,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass;return'<div class="'.concat(o,'" style="').concat(r,'">\n                            <table class="table table-one">\n                                <tbody>\n                                    <tr>\n                                        <td>Duración</td>\n                                        <td>').concat(t.duration," año(s)</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Instrumento libre de riesgo</td>\n                                        <td>Bono del tesoro norteamericano de ").concat(t.instrument," año(s)</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Rendimiento del instrumento</td>\n                                        <td>").concat(t.performance,"</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            </div>")}},{code:"$$TSKGM$$",html:function(e){for(var t=a.system.developed.structure.sectors,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-one">\n                                    <tbody>'),s=0;s<t.length;s++){var i=t[s];l+="   <tr>\n                                            <td>".concat(i.label,"</td>\n                                            <td>").concat(i.value,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$B5JVC$$",html:function(e){for(var t=a.system.company.parameter.finance.parameters,n=a.system.company.parameter.finance.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$7B61E$$",html:function(e){for(var t=a.system.developed.parameter.general,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-one">\n                                    <tbody>'),s=0;s<t.length;s++){var i=t[s];l+="   <tr>\n                                            <td>".concat(i.label,"</td>\n                                            <td>").concat(i.value,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$KYZA9$$",html:function(e){for(var t=a.system.developed.parameter.finance.parameters,n=a.system.developed.parameter.finance.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$7TZYU$$",html:function(e){for(var t=a.system.developed.parameter.economic.parameters,n=a.system.developed.parameter.economic.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$8ECMO$$",html:function(e){for(var t=a.system.developed.parameter.debt.parameters,n=a.system.developed.parameter.debt.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$WPBYC$$",html:function(e){for(var t=a.system.developed.average.general.parameters,n=a.system.developed.average.general.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$HG8KV$$",html:function(e){for(var t=a.system.emerging.structure.general,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-one">\n                                    <tbody>'),s=0;s<t.length;s++){var i=t[s];l+="   <tr>\n                                            <td>".concat(i.label,"</td>\n                                            <td>").concat(i.value,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$GH7RV$$",html:function(e){var t=a.system.emerging.structure.finance,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                    <table class="table table-one">\n                                        <tbody>\n                                            <tr>\n                                                <td>').concat(t.deuda.label,"</td>\n                                                <td><strong> ").concat(t.deuda.value,"%</strong></td>\n                                            </tr>\n                                            <tr>\n                                                <td>").concat(t.capital.label,"</td>\n                                                <td><strong> ").concat(t.capital.value,"%</strong></td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>");return l}},{code:"$$AAMKD$$",html:function(e){for(var t=a.system.emerging.parameter.general,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-one">\n                                    <tbody>'),s=0;s<t.length;s++){var i=t[s];l+="   <tr>\n                                            <td>".concat(i.label,"</td>\n                                            <td>").concat(i.value,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$HTJR8$$",html:function(e){for(var t=a.system.emerging.parameter.finance.parameters,n=a.system.emerging.parameter.finance.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$5AKK4$$",html:function(e){for(var t=a.system.emerging.parameter.economic.parameters,n=a.system.emerging.parameter.economic.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$M2MZB$$",html:function(e){for(var t=a.system.emerging.parameter.debt.parameters,n=a.system.emerging.parameter.debt.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$XI3SQ$$",html:function(e){for(var t=a.system.emerging.average.general.parameters,n=a.system.emerging.average.general.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$IE7QQ$$",html:function(e){var t=a.system.company.structure.general,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-group">\n                                    <tbody>\n                                        <tr>\n                                            <td class="border-0"></td>\n                                            <td class="bgone">').concat(t.dolares.label,'</td>\n                                            <td class="bgone">').concat(t.derivative.label,'</td>\n                                            <td class="bgone">').concat(t.national.label,'</td>\n                                        </tr>\n                                        <tr>\n                                            <td class="bgone">\n                                                <span>').concat(t.label,"</span>\n                                            </td>\n                                            <td style='backgroundColor: ").concat(1==t.dolares.currency?"#f4f6f9":"white","'\">\n                                                <strong>").concat(t.dolares.value+"%","</strong>\n                                            </td>\n                                            <td>\n                                                <strong>").concat(t.derivative.value+"%","</strong>\n                                            </td>\n                                            <td style='backgroundColor:").concat(1==t.national.currency?"#f4f6f9":"white","'\">\n                                                <strong>").concat(t.national.value+"%","</strong>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                                </div>");return l}},{code:"$$V9NJF$$",html:function(e){var t=a.system.company.structure.prima,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass;return'<div class="'.concat(o,'" style="').concat(r,'">\n                            <table class="table table-one">\n                                <tbody>\n                                    <tr>\n                                        <td>').concat(t.label,"</td>\n                                        <td>").concat(t.value,"</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            </div>")}},{code:"$$E0C1K$$",html:function(e){var t=a.system.company.structure.percentage,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass;return'<div class="'.concat(o,'" style="').concat(r,'">\n                            <table class="table table-one">\n                                <tbody>\n                                    <tr>\n                                        <td>').concat(t.debt.label,"</td>\n                                        <td>").concat(t.debt.value,"%</td>\n                                    </tr>\n                                    <tr>\n                                        <td>").concat(t.capital.label,"</td>\n                                        <td>").concat(t.capital.value,"%</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            </div>")}},{code:"$$HUXP5$$",html:function(e){for(var t=a.system.company.parameter.general,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-one">\n                                    <tbody>'),s=0;s<t.length;s++){var i=t[s];l+="   <tr>\n                                            <td>".concat(i.label,"</td>\n                                            <td>").concat(i.value,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$MHNTZ$$",html:function(e){for(var t=a.system.company.parameter.economic.parameters,n=a.system.company.parameter.economic.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$YXOFA$$",html:function(e){for(var t=a.system.company.parameter.debt.parameters,n=a.system.company.parameter.debt.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$VP8DY$$",html:function(e){for(var t=a.system.company.dolares.general.parameters,n=a.system.company.dolares.general.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$FLEMN$$",html:function(e){for(var t=a.system.company.national.general.parameters,n=a.system.company.national.general.results,r=h.css({attributes:e.attributes,type:1}),o=r.mystyles,l=r.myclass,s='<div class="'.concat(l,'" style="').concat(o,'">\n                                <table class="table table-item">\n                                    <tbody>'),i=0;i<t.length;i++){var c=t[i];s+='   <tr>\n                                            <td class="bgone">'.concat(c.label,"</td>\n                                            <td>").concat(c.value,"</td>\n                                        </tr>")}for(var d=0;d<n.length;d++){var m=n[d];s+='   <tr>\n                                            <td class="bgtwo">'.concat(m.label,"</td>\n                                            <td>").concat(m.value,"</td>\n                                        </tr>")}return s+="</tbody>\n                                </table>\n                                </div>",s}},{code:"$$OTSBT$$",html:function(e){for(var t=a.system.report.parameters,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-item">\n                                    <tbody>\n                                        <tr>\n                                            <td colspan="2" class="bgone text-center">Parámetros del reporte3</td>\n                                        </tr>'),s=0;s<t.length;s++){var i=t[s];l+="       <tr>\n                                            <td>".concat(i.label,"</td>\n                                            <td>").concat(i.value,"</td>\n                                        </tr>")}return l+="   </tbody>\n                                </table>\n                                </div>",l}},{code:"$$AAMKD$$",html:function(e){for(var t=a.system.report.percentages,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-group">\n                                    <tbody>\n                                        <tr>\n                                            <td class="border-0"></td>\n                                            <td class="bgtwo">Dólares</td>\n                                            <td class="bgtwo">Moneda Nacional</td>\n                                        </tr>'),s=0;s<t.length;s++){var i=t[s];l+='   <tr>\n                                            <td class="bgtwo">'.concat(i.label,'</td>\n                                            <td class="font-weight-bold">').concat(i.dolar,'</td>\n                                            <td class="font-weight-bold">').concat(i.national,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$VFTS2$$",html:function(e){for(var t=a.system.sectorial.parameters,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-group">\n                                    <tbody>\n                                        <tr>\n                                            <td class="bgone text-center">Parámetros del reporte</td>\n                                            <td class="bgone text-center">MD</td>\n                                            <td class="bgone text-center">ME</td>\n                                        </tr>'),s=0;s<t.length;s++){var i=t[s];l+="   <tr>\n                                            <td>".concat(i.label,'</td>\n                                            <td class="font-weight-bold">').concat(i.value,'</td>\n                                            <td class="font-weight-bold text-center">').concat(i.value2,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$HGFD7$$",html:function(e){for(var t=a.system.report.percentages,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-group">\n                                    <tbody>\n                                        <tr>\n                                            <td class="border-0"></td>\n                                            <td class="bgtwo with-col-table">M. Desarrollado</td>\n                                            <td class="bgtwo with-col-table">M. Emergente</td>\n                                        </tr>'),s=0;s<t.length;s++){var i=t[s];l+='   <tr>\n                                            <td class="bgtwo">'.concat(i.label,'</td>\n                                            <td class="font-weight-bold with-col-table">').concat(i.dolar,'</td>\n                                            <td class="font-weight-bold with-col-table">').concat(i.national,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}},{code:"$$MJUYH$$",html:function(e){for(var t=a.system.comparation.percentages,n=h.css({attributes:e.attributes,type:1}),r=n.mystyles,o=n.myclass,l='<div class="'.concat(o,'" style="').concat(r,'">\n                                <table class="table table-group">\n                                    <tbody>\n                                    <tr>\n                                        <td class="border-0"></td>\n                                        <td class="bgtwo with-col-table">M. Desarrollado</td>\n                                        <td class="bgtwo with-col-table">M.Emergente</td>\n                                        <td class="bgtwo with-col-table">Empresa - Dólares</td>\n                                        <td class="bgtwo with-col-table">Empresa - Moneda Nacional</td>\n                                    </tr>'),s=0;s<t.length;s++){var i=t[s];l+='   <tr>\n                                            <td class="bgtwo">'.concat(i.label,'</td>\n                                            <td class="font-weight-bold with-col-table">').concat(i.desarrollado,'</td>\n                                            <td class="font-weight-bold with-col-table">').concat(i.emergente,'</td>\n                                            <td class="font-weight-bold with-col-table">').concat(i.dolar,'</td>\n                                            <td class="font-weight-bold with-col-table">').concat(i.nacional,"</td>\n                                        </tr>")}return l+="</tbody>\n                                </table>\n                                </div>",l}}]};e.report=function(){var e=s,a=i,n=c,r=d,o=m,l=u;$(t.btnExportPdf).off("click"),$(t.btnExportPdf).on("click",(function(s){$("#AppDesignFormAdmin").css("margin-bottom","100px"),swal2.loading();var i=new FormData;i.append("id",$(this).attr("data-id")),e(i).then(a).then(n).then(l).then(r).then(o).then((function(){$("#"+t.AppExportGeneral).html(""),swal2.loading(!1),$("#AppDesignFormAdmin").css("margin-bottom","10px")})).catch((function(e){$("#"+t.AppExportGeneral).html(""),console.error(e),swal2.show({html:e,icon:"error"})}))}))},e.reportDefaultByCode=function(e){var a=s,n=i,r=c,o=d,l=m;$(t.btnExportPdf).off("click"),$(t.btnExportPdf).on("click",(function(s){sweet2.loading();var i=new FormData;i.append("code",e.code),i.append("id",$(this).attr("data-id")),a(i).then(n).then(r).then(o).then(l).then((function(){$("#"+t.AppExportGeneral).html(""),sweet2.loading(!1)})).catch((function(e){$("#"+t.AppExportGeneral).html(""),console.error(e),sweet2.show({html:e,icon:"error"})}))}))},e.initBuildReport=function(e,t){var a=s,n=i,r=c,o=d,l=m,u=new FormData;u.append("code",e),u.append("id",t),a(u).then(n).then(r).then((function(e){$("#panel-acctions").html($("#template-acctions").html()),$("#title-export").text(e.design.name.toUpperCase());var t=0,a=setInterval((function(){$(".progress-bar").css("width",t+"%"),$(".progress-bar").html(t+"%"),(t+=10)>95&&clearInterval(a)}),800);o(e).then((function(e){clearInterval(a),$(".progress-bar").css("width","100%"),$(".progress-bar").html("Completado"),$("#btn-download").attr("disabled",!1),setTimeout((function(){$(".panel-progress").remove()}),2e3),$("#btn-download").off("click"),$("#btn-download").on("click",(function(){sweet2.loading(),l(e).then((function(){sweet2.loading(!1)}))}))}))})).catch((function(e){console.error(e),sweet2.show({html:e,icon:"error"})}))}};window.AppExportPDF=new AppExportPDF;var swal2=Object.freeze({show:function(e){Swal.close();var t=e.onOk,a=e.onCancel;return delete e.onOk,delete e.onCancel,e.allowEscapeKey=!1,e.allowOutsideClick=!1,Swal.fire(e).then((function(e){e.isConfirmed?t&&t():a&&a()}))},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!1===e?Swal.close():Swal.fire({text:"Cargando ...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}})}});window.swal2=swal2;var AppDesignAdmin=function(){this.form=function(e){new Vue({el:"#AppDesignFormAdmin",data:function(){return{design:Object.create(e.design),structure:e.structure}},created:function(){},mounted:function(){this.onLoad()},watch:{},methods:{onFormData:function(e){e.preventDefault();var t=this,a=new FormData(e.currentTarget);swal2.show({text:"¿Estás seguro de guardar cambios?",icon:"question",showCancelButton:!0,onOk:function(){swal2.loading(),fetch("/admin/report/save",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){swal2.show({text:e.message,icon:e.success?"success":"error",showCancelButton:!1,onOk:function(){null!=e.data.design.id&&null==t.design.id&&($("#img-file").val(""),swal2.loading(),location.href=e.data.reload)}})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}})},onLoad:function(){this.onSummernote(),this.onEvent()},onEvent:function(e){$("#img-file").on("change",(function(e){}))},onSummernote:function(e){var t={fontSizes:["8","9","10","11","12","13","14","15","16","17","18","20","24","26","28","32"],height:80,popover:{image:[],link:[],air:[]},tabsize:2,toolbar:[["style",["style"]],["font-style",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["font",["fontname"]],["font-size",["fontsize"]],["font-color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","hr"]],["misc",["fullscreen","codeview","help"]]]};$("#header_summernote").summernote(t),$("#footer_summernote").summernote(t),t.height=600,t.callbacks={onPaste:function(e){var t=((e.originalEvent||e).clipboardData||window.clipboardData).getData("Text");e.preventDefault(),setTimeout((function(){document.execCommand("insertText",!1,t)}),10)}},$("#body_summernote").summernote(t)}}})},this.list=function(){$("#table-design").DataTable({language:{sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"No hay elementos por mostrar",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},ordering:!1,reponsive:!0}),$(".btn-delete").off("click"),$(".btn-delete").on("click",(function(){var e=$(this).attr("data-id");console.log(e);var t=new FormData;t.append("id",e),swal2.loading(!1),swal2.show({icon:"question",html:"¿Estás seguro de eliminar este elemento?",showCancelButton:!0,onOk:function(){swal2.loading(),fetch("/admin/report/remove",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){swal2.show({icon:e.success?"success":"error",html:e.message,onOk:function(){e.success&&(swal2.loading(),location.reload())}})})).catch((function(){swal2.show({icon:"error",text:"Hubo un error en el sistema."})}))}})}))}};function editarModalIndustria(e,t){console.log(e),console.log(t),$("#nombre_i").val(t),$("#id_i").val(e),$("#modal_industria").modal("show")}function addCompanias(e,t){if(console.log(e),console.log(t),e>0){var a=e,n=new FormData;n.append("id_industria",e),fetch("/admin/getcompanias",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){if(e.success){var t=e.data;console.log(t);var n="<table class='table align-middle' id='companiasTable' style='width: 100%;text-align: center;'>";n+="<thead>",n+="<tr>",n+="<th  class='align-middle' style='width: 10%;'>",n+="<div id=''> Id </div>",n+="</th>",n+="<th  class='align-middle' style='width: 85%;'>",n+="<div id=''> Nombre </div>",n+="</th>",n+="<th class='align-middle' style='width: 5%;'>",n+="<div id=''> Acción </div>",n+="</th>",n+="</tr>",n+="</thead>",n+="<tbody>";for(var r=0;r<t.length;r++)n+="<tr>",n+="<th  style=''>",n+="<div id=''> "+t[r].id+" </div>",n+="</th>",n+="<th  style='text-align: left;'>",n+="<div id=''> "+t[r].nombre+" </div>",n+="</th>",n+="<th  style=''>",n+="<button type='button' class='btn btn-outline-secondary float-right' onclick='deleteCompania("+t[r].id+","+a+")'> <i class='fa fa-trash' aria-hidden='true'></i></button> ",n+="</th>",n+="</tr>";n+="</tbody>",n+="</table>",$("#id_in").val(a),$("#tabla_companias").html(n),$("#modal_companias").modal("show")}})).catch((function(){alert("Hubo un error en el sistema.")}))}else Toast.fire({icon:"info",title:"No se tiene un id de industria"})}function deleteCompania(e,t){var a=t;Confirm.fire({title:"¿Estas seguro que desea eliminar el registro?",text:"¡Se eliminará el registro permanetemente!",icon:"warning",showCancelButton:!0,cancelButtonText:"No",reverseButtons:!1}).then((function(t){if(t.isConfirmed){var n=new FormData;n.append("id_industria",a),n.append("id_compania",e),fetch("/admin/compania-delete",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.success){console.log(a);var t=e.data;console.log("----"),console.log(t);var n="<table class='table align-middle' id='companiasTable' style='width: 100%;text-align: center;'>";n+="<thead>",n+="<tr>",n+="<th  class='align-middle' style='width: 10%;'>",n+="<div id=''> Id </div>",n+="</th>",n+="<th  class='align-middle' style='width: 85%;'>",n+="<div id=''> Nombre </div>",n+="</th>",n+="<th class='align-middle' style='width: 5%;'>",n+="<div id=''> Acción </div>",n+="</th>",n+="</tr>",n+="</thead>",n+="<tbody>";for(var r=0;r<t.length;r++)n+="<tr>",n+="<td>",n+="<div>"+t[r].id+"</div>",n+="</td>",n+="<td style='text-align: left;'>",n+="<div>"+t[r].nombre+"</div>",n+="</td>",n+="<td>",n+="<button type='button' class='btn btn-outline-secondary float-right' onclick='deleteCompania("+t[r].id+","+a+")'> <i class='fa fa-trash' aria-hidden='true'></i></button>",n+="</td>",n+="</tr>";n+="</tbody>",n+="</table>",$("#tabla_companias").html(n),Confirm.fire("¡Elimnado!","El registro fue eliminado.","success")}})).catch((function(){alert("Hubo un error en el sistema.")}))}else Confirm.fire("Cancelado","El registro está a salvo","error")}))}function closeModalCompanias(){$("#modal_companias").modal("hide"),window.location.href=window.location.href}function deleteIndustria(e){var t=e;Confirm.fire({title:"¿Estas seguro que desea eliminar el registro?",text:"¡Se eliminará el registro permanetemente!",icon:"warning",showCancelButton:!0,cancelButtonText:"No",reverseButtons:!1}).then((function(e){if(e.isConfirmed){var a=new FormData;a.append("id_industria",t),fetch("/admin/industria-delete",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){console.log(e),e.success&&(Confirm.fire("¡Elimnado!","El registro fue eliminado.","success"),window.location.href=window.location.href)})).catch((function(){alert("Hubo un error en el sistema.")}))}else Confirm.fire("Cancelado","El registro está a salvo","error")}))}window.AppDesignAdmin=new AppDesignAdmin;var frmIndustria=document.querySelector("#frmIndustria");frmIndustria&&frmIndustria.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);$("#nombre_i").val()?fetch("/admin/industria-update",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&($("#frmIndustria")[0].reset(),Toast.fire({icon:"success",title:"Registro exitoso."}),setTimeout((function(){window.location.href=window.location.href}),1e3))})).catch((function(){alert("Hubo un error en el sistema.")})):Toast.fire({icon:"info",title:"Debe ingresar el nombre de la industria."})}));var frmCompania=document.querySelector("#frmCompania");frmCompania&&frmCompania.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget),a=$("#nombre_c").val(),n=$("#id_in").val();a?fetch("/admin/compania-update",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){if(e.success){console.log(e.data);var t=e.data,a="<table class='table align-middle' id='companiasTable' style='width: 100%;text-align: center;'>";a+="<thead>",a+="<tr>",a+="<th  class='align-middle' style='width: 10%;'>",a+="<div id=''> Id </div>",a+="</th>",a+="<th  class='align-middle' style='width: 85%;' >",a+="<div id=''> Nombre </div>",a+="</th>",a+="<th class='align-middle' style='width: 10%;'>",a+="<div id=''> Acción </div>",a+="</th>",a+="</tr>",a+="</thead>",a+="<tbody>";for(var r=0;r<t.length;r++)a+="<tr>",a+="<td>",a+="<div>"+t[r].id+"</div>",a+="</td>",a+="<td style='text-align: left;'>",a+="<div>"+t[r].nombre+"</div>",a+="</td>",a+="<td>",a+="<button type='button' class='btn btn-outline-secondary float-right' onclick='deleteCompania("+t[r].id+","+n+")'> <i class='fa fa-trash' aria-hidden='true'></i></button>",a+="</td>",a+="</tr>";a+="</tbody>",a+="</table>",$("#tabla_companias").html(a),Confirm.fire("¡Registro Exitoso!","El registro fue registrado correctamente.","success"),$("#nombre_c").val("")}})).catch((function(){alert("Hubo un error en el sistema.")})):Toast.fire({icon:"info",title:"Debe ingresar el nombre de la compañia."})}));var AppAdminTemplate=function(){this.init=function(e){new Vue({el:"#AppAdminTemplate",data:function(){return{swal2:swal2,templates:e.templates,template:Object.create({}),index:-1}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{onSave:function(e){e.preventDefault();var t=this,a=new FormData(e.currentTarget);Number(a.get("status"));t.swal2.show({text:"¿Estás seguro de guardar cambios?",icon:"question",showCancelButton:!0,onOk:function(){t.swal2.loading(),fetch("/admin/manageTemplate",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){e.success&&(document.getElementById("frmSave").reset(),$("#mdlForm").modal("hide")),t.swal2.show({icon:e.success?"success":"error",text:e.message,onOk:function(){e.success&&(t.swal2.loading(),window.location.reload())}})})).catch((function(e){console.error(e),t.swal2.show({icon:"error",text:"Hubo un error en el sistema."})}))}})},onForm:function(e){document.getElementById("frmSave").reset(),this.index=e,this.template=-1===e?Object.create({}):Object.create(this.templates[e]),document.getElementById("lblFile").innerText=this.template.file?this.template.file:"Seleccionar Archivo",$("#mdlForm").modal({backdrop:"static",keyboard:!1})},onDelete:function(e){var t=this,a=new FormData,n=this.templates[e].id;a.append("id",n),t.swal2.show({text:"¿Estás seguro de eliminar esta plantilla?",icon:"question",showCancelButton:!0,onOk:function(){t.swal2.loading(),fetch("/admin/removeTemplate",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(a){a.success&&t.templates.splice(e,1),t.swal2.show({icon:a.success?"success":"error",text:a.message})})).catch((function(e){console.error(e),t.swal2.show({icon:"error",text:"Hubo un error en el sistema."})}))}})},onReadFile:function(e){e.target.files.length>0&&(document.getElementById("lblFile").innerText=e.target.files[0].name)}}})}};window.AppAdminTemplate=new AppAdminTemplate,$("#sn-titulo").summernote({placeholder:"Título principal",tabsize:2,height:150}),$("#sn-stitulo").summernote({placeholder:"Subtitulo",tabsize:2,height:150}),$("#terminos_condiciones").summernote({placeholder:"terminos y condiciones",tabsize:2,height:350}),$("#sn-equipo").summernote({placeholder:"Descripción",tabsize:2,height:150}),$("#g_titulo_b").summernote({placeholder:"Ingresar Titulo",tabsize:2,height:150}),$("#g_descripcion").summernote({placeholder:"Ingresar Descripcion",tabsize:2,height:150}),document.getElementById("imgBanner")&&(document.getElementById("imgBanner").onchange=function(e){var t=new FileReader;t.onload=function(){var e=document.getElementById("previewBanner"),a=t.result,n=a.split(";")[0].split("/")[0].split(":")[1],r="";"image"==n&&(r=document.createElement("img")),"video"==n&&(r=document.createElement("video")),r.src=a,e.innerHTML="",e.append(r)},t.readAsDataURL(e.target.files[0])});var frmLanding=document.querySelector("#frmLanding");frmLanding&&frmLanding.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);fetch("/admin/home-update",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&Toast.fire({icon:"success",title:"Registro exitoso."})})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmGlosario=document.querySelector("#frmGlosario");frmGlosario&&frmGlosario.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);fetch("/admin/glosario-update",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&Toast.fire({icon:"success",title:"Registro exitoso."})})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmServicio=document.querySelector("#frmServicio");function getItemServicio(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e){var r=new FormData;r.append("id_servicio",e),fetch("/admin/get-servicio-item",{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){if(e.success){var t=e.data;$("#titulo").summernote("destroy"),$("#stitulo").summernote("destroy"),$("#id_servicio").val(t.id),$("#titulo").val(t.titulo),$("#stitulo").val(t.stitulo),$("#tipo_id").val(t.tipo),$("#previewBanner img").attr("src",t.icono),$("#titulo").summernote({placeholder:"Subtitulo",tabsize:2,height:100}),$("#stitulo").summernote({placeholder:"Subtitulo",tabsize:2,height:100}),$("#"+a).modal("show")}})).catch((function(){alert("Hubo un error en el sistema.")}))}else $("#titulo").summernote("destroy"),$("#stitulo").summernote("destroy"),$("#id_servicio").val(""),$("#titulo").val(""),$("#stitulo").val(""),$("#tipo_id").val(n),$("#previewBanner img").attr("src",""),$("#titulo").summernote({placeholder:"Título",tabsize:2,height:100}),$("#stitulo").summernote({placeholder:"Descripción",tabsize:2,height:100}),$("#"+a).modal("show")}function deleteItemServicio(e,t){Confirm.fire({title:"¿Estas seguro?",text:"¡Se eliminará el registro permanetemente!",icon:"warning",showCancelButton:!0,cancelButtonText:"No, Cancelar",reverseButtons:!1}).then((function(t){if(t.isConfirmed){var a=new FormData;a.append("id_servicio",e),fetch("/admin/delete-servicio-item",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){e.success&&(Confirm.fire("¡Elimnado!","El registro fue eliminado.","success"),setTimeout((function(){location.reload()}),1e3))})).catch((function(){alert("Hubo un error en el sistema.")}))}else Confirm.fire("Cancelado","El registro está a salvo","error")}))}frmServicio&&frmServicio.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget),a="/admin/servicio-update";$("#id_servicio").val()||(a="/admin/servicio-add"),fetch(a,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&($("#frmServicio")[0].reset(),$("#modal_servicio").modal("hide"),Toast.fire({icon:"success",title:"Registro exitoso."}),setTimeout((function(){location.reload()}),1e3))})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmTextTeam=document.querySelector("#frmTextTeam");function getItemTeam(e,t,a){if(e){var n=new FormData;n.append("id_team",e),fetch("/admin/get-team-item",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){if(e.success){var t=e.data;$("#name").val(""),$("#order").val(""),$("#id_team").val(t.id),$("#name").val(t.name),$("#order").val(t.order),$("#"+a).modal("show")}})).catch((function(){alert("Hubo un error en el sistema.")}))}else console.log(a),$("#id_team").val(""),$("#name").val(""),$("#order").val(""),$("#"+a).modal("show")}frmTextTeam&&frmTextTeam.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);fetch("/admin/team-text-update",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&Toast.fire({icon:"success",title:"Registro exitoso."})})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmTeam=document.querySelector("#frmTeam");function deleteItemTeam(e,t){Confirm.fire({title:"¿Estas seguro?",text:"¡Se eliminará el registro permanetemente!",icon:"warning",showCancelButton:!0,cancelButtonText:"No, Cancelar",reverseButtons:!1}).then((function(t){if(t.isConfirmed){var a=new FormData;a.append("id_team",e),fetch("/admin/team-delete",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){e.success&&(Confirm.fire("¡Elimnado!","El registro fue eliminado.","success"),setTimeout((function(){location.reload()}),1e3))})).catch((function(){alert("Hubo un error en el sistema.")}))}else Confirm.fire("Cancelado","El registro está a salvo","error")}))}frmTeam&&frmTeam.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget),a="/admin/team-update";$("#id_team").val()||(a="/admin/team-add"),fetch(a,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&(console.log(e),$("#frmTeam")[0].reset(),$("#modal_team").modal("hide"),Toast.fire({icon:"success",title:"Registro exitoso."}),setTimeout((function(){location.reload()}),1e3))})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmServicioCapital=document.querySelector("#frmServicioCapital");frmServicioCapital&&frmServicioCapital.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget),a="/admin/servicio-costo-update";$("#id_servicio").val()||(a="/admin/servicio-costo-add"),fetch(a,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmContact=document.querySelector("#frmContact");frmContact&&frmContact.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);fetch("/admin/contacto-update",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&Toast.fire({icon:"success",title:"Registro exitoso."})})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmInformationAdmin=document.querySelector("#frmInformationAdmin");frmInformationAdmin&&frmInformationAdmin.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);swal2.show({text:"¿Estás seguro de guardar cambios?",icon:"question",showCancelButton:!0,onOk:function(){fetch("/admin/information/save",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){swal2.show({icon:e.success?"success":"error",html:e.message,onOk:function(){e.success&&(swal2.loading(),location.reload())}})})).catch((function(){alert("Hubo un error en el sistema.")}))}})}));var Toast=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}),Confirm=Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}),AppPaymentAdmin=function(){this.init=function(){var e=$("#AppPaymentAdmin"),t=e.find("#btnAddMobile"),a=e.find("#panelMobile"),n=e.find("#panelBank"),r=e.find("#btnAddBank"),o=e.find("#template-mobile"),l=e.find("#template-bank"),s=e.find(".formTransfer");function i(){$(".btnDeleteMobile").off("click"),$(".btnDeleteMobile").on("click",(function(){$(this).parent().parent().remove()}))}function c(){$(".btnDeleteBank").off("click"),$(".btnDeleteBank").on("click",(function(){$(this).parent().parent().remove()}))}t.off("click"),t.on("click",(function(){console.log(o.html()),a.append(o.html()),i()})),r.off("click"),r.on("click",(function(){n.append(l.html()),c()})),s.off("submit"),s.on("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);swal2.loading(!1),swal2.show({icon:"question",html:"¿Estás seguro de guardar cambios?",showCancelButton:!0,onOk:function(){swal2.loading(),fetch("/admin/pagos/save",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){swal2.show({icon:e.success?"success":"error",html:e.message,onOk:function(){e.success&&(swal2.loading(),location.reload())}})})).catch((function(){swal2.show({icon:"error",text:"Hubo un error en el sistema."})}))}})})),i(),c()}};window.AppPaymentAdmin=new AppPaymentAdmin;
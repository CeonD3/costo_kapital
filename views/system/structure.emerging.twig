{% extends "system/main.twig" %}

{% block css %}
<style>
	.max100w{
		max-width:65px;
	}
	.col-input{
		border: 2px solid #0BE9CE !important;
	}
</style>
{% endblock %}

{% block content %}
	{% set data = rsp.data %}
	<section class="slide-content">
		<div class="slide-reflex">
			<div class="container container-custom">
				<div class="row">
					{% include "system/information.twig" %}
				</div>
				<div class="row panel-parameter-market" id="AppStructureEmerging">
					<div class="col-lg-12">
						<div class="card-panel">
							<div class="row">
								<div class="col-lg-12 mb-4">
									<div class="bg-five text-center py-2">
										<h4 class="m-0">Mercado Emergente: Información relevante</h4>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-lg-5">
									<div class="row">
										<div class="col-lg-12 col-md-12">
											<div class="form-group">
												<label class="label-control">4. Seleccione el país en el que se desarrolla su inversión:</label>
												<select class="form-control" :value="country" @change="onCountry">
													<option  v-for="(item, index) in countries" :key="item" v-html="item"></option>
												</select>
											</div>
										</div>
										<div class="col-lg-12 col-md-12">
											<div class="form-group">
												<label class="label-control">5. Parámetros del país seleccionado (Ingrese la devaluación esperada de su moneda si no coincide con la información presentada)</label>
												<div class="table-responsive">
													<table class="table table-one">
														<tbody>
															<tr v-for="(item, index) in general" :key="item.id">
																<td>
																	<span v-text="item.label"></span>
																	<template v-if="item.comment != undefined">
																		<i aria-hidden="true" class="fa fa-info-circle mt-1 float-right" :title="item.comment"></i>
																	</template>
																</td>
																<td class="max100w" :class="[{'col-input': item.input != 0 ? true : false}]" style="padding:0px !important;">
																	<template v-if="item.input == 1">
																	<div class="input-group">
																		<input type="text" v-model="devaluacion" form="formDevaluation" name="devaluation" class="form-control text-center">
																		<div class="input-group-append">
																			<span class="input-group-text">%</span>
																		</div>
																	</div>
																	</template>
																	<template v-else>
																		<strong v-text="item.value"></strong>
																	</template>																	
																</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
										<div class="col-lg-12 col-md-12">
											<div class="form-group">
												<label class="label-control">6. Datos de la estructura de financiamiento, debe ingresar la información de su inversión: </label>
												<div class="table-responsive">
													<table class="table table-one">
														<tbody>
															<tr>
																<td v-html="finance.deuda.label"></td>
																<td class="max100w col-input" style="padding:0px !important;">
																	<div class="input-group">
																		<input type="text" @keyup="onCalculation" v-model="deuda" form="formDevaluation" name="debt" class="form-control text-center">
																		<div class="input-group-append">
																			<span class="input-group-text">%</span>
																		</div>
																	</div>
																</td>
															</tr>
															<tr>
																<td v-html="finance.capital.label"></td>
																<td class="max100w">
																	<strong v-text="myCapital"></strong>
																</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
										<form id="formDevaluation" class="text-right">
										</form>
									</div>
								</div>
								<div class="col-lg-7">
									<div id="groupChart" style="min-height:350px;"></div>
								</div>
							</div>
							<div class="row panel-navigation">
								<div class="col-lg-12 text-center">
									<a href="{{ '/rendimiento/' ~ rsp.data.code}}" class="float-left">
										<i class="fa fa-arrow-left" aria-hidden="true"></i>
									</a>
									<button type="button" @click="onDevaluation" class="float-right btnform" form="formDevaluation">
										<i class="fa fa-arrow-right" aria-hidden="true"></i>
									</button>
								</div>
							</div>
							{# {% include 'system/navigation.twig' with  { _back: '/rendimiento/' ~ rsp.data.code, _next: '/parametros-mercado-emergente/' ~ rsp.data.code, _code: rsp.data.code } %} #}
						</div>
					</div>
					{% include 'system/publicidad.twig' %}
				</div>
			</div>
		</div>
	</section>
{% endblock %}

{% block js %} 
	<script type="text/javascript">
		let args = JSON.parse("{{ rsp.data |json_encode|e('js') }}");
		window.addEventListener('load', window.AppStructureEmerging.init(args));
	</script>
{% endblock %}